var EventSubmissionValidation=function(){var EVENT_SLIDER_MIN_WIDTH=640;var EVENT_SLIDER_MIN_HEIGHT=290;var ORGANIZER_LOGO_MIN_WIDTH=240;var ORGANIZER_LOGO_MIN_HEIGHT=100;return{init:function(){Common.logInfo("EventSubmissionValidation.init...");jQuery(".fieldset-event_banner .field .description").append("Standard Banner Size :  820 X 300");jQuery(".fieldset-organizer_logo .field .description").append("Standard Logo Size : 240 X 100");jQuery(".event-manager-remove-uploaded-file").text('');jQuery(".event-manager-remove-uploaded-file").addClass('glyphicon glyphicon-trash');jQuery(document).delegate('#event_banner','change',EventSubmissionValidation.actions.uploadBannerImageFileChange);jQuery(document).delegate('#organizer_logo','change',EventSubmissionValidation.actions.uploadOrganizerLogoImageFileChange);jQuery("input[name='submit_event']").on('click',EventSubmissionValidation.actions.validatePostEventForm);if(jQuery('input[name=event_online]:checked').val()=='yes'){jQuery('.fieldset-event_address').hide();jQuery('input[name=event_address]').removeAttr('required','required');jQuery('.fieldset-event_pincode').hide();jQuery('input[name=event_pincode]').removeAttr('required','required');jQuery('.fieldset-event_location').hide();jQuery('input[name=event_location]').removeAttr('required','required')}var eventDescriptionHtml="Tell people what's special about this event.";var organizerDescriptionHtml='<p>Write short description about you or your organization to catch people&#39;s attention.</p>';if(jQuery("input[name='event_id']").val()==''||jQuery("input[name='event_id']").val()==null||jQuery("input[name='event_id']").val()==0){jQuery('#event_description').html(eventDescriptionHtml);jQuery('#organizer_description').html(organizerDescriptionHtml)}},actions:{uploadBannerImageFileChange:function(event){Common.logInfo("EventSubmissionValidation.actions.uploadBannerImageFileChange...");var image,file;var _URL=window.URL||window.webkitURL;if((file=this.files[0])){image=new Image();image.onload=function(){var size=EVENT_SLIDER_MIN_WIDTH+'x'+EVENT_SLIDER_MIN_HEIGHT;if(this.width<EVENT_SLIDER_MIN_WIDTH||this.height<EVENT_SLIDER_MIN_HEIGHT){jQuery('#job_slider-error-message').remove();jQuery('#job_slider').addClass('error-red-border');jQuery('#job_slider').focus();jQuery("#job_slider").after("<span id='job_slider-error-message' class='error-red-message'>The minimum widthxheight of the banner is "+size+" required.</span>");window.setTimeout(function(){jQuery('fieldset.fieldset-job_slider .job-manager-uploaded-file').empty()},900)}else{jQuery('#job_slider-error-message').remove();jQuery('#job_slider').removeClass('error-red-border')}};image.src=_URL.createObjectURL(file)}var fileExtension=['jpeg','jpg','jpe','png','gif','bmp'];if(jQuery.inArray(jQuery(this).val().split('.').pop().toLowerCase(),fileExtension)==-1){jQuery('#job_slider-error-message').remove();jQuery('#job_slider').addClass('error-red-border');jQuery('#job_slider').focus();jQuery("#job_slider").after("<span id='job_slider-error-message' class='error-red-message'>Only 'jpeg', 'jpg', 'jpe', 'png', 'gif', 'bmp' formats are allowed.</span>");window.setTimeout(function(){jQuery('fieldset.fieldset-job_slider .job-manager-uploaded-file').empty()},900)}else{jQuery('#job_slider-error-message').remove();jQuery('#job_slider').removeClass('error-red-border');window.setTimeout(function(){jQuery(".job-manager-remove-uploaded-file").text('');jQuery(".job-manager-remove-uploaded-file").addClass('glyphicon glyphicon-trash')},900)}event.preventDefault()},uploadOrganizerLogoImageFileChange:function(event){Common.logInfo("EventSubmissionValidation.actions.uploadOrganizerLogoImageFileChange...");var image,file;var _URL=window.URL||window.webkitURL;if((file=this.files[0])){image=new Image();image.onload=function(){var size=ORGANIZER_LOGO_MIN_WIDTH+'x'+ORGANIZER_LOGO_MIN_HEIGHT;if(this.width<ORGANIZER_LOGO_MIN_WIDTH||this.height<ORGANIZER_LOGO_MIN_HEIGHT){jQuery('#company_logo-error-message').remove();jQuery('#company_logo').addClass('error-red-border');jQuery('#company_logo').focus();jQuery("#company_logo").after("<span id='company_logo-error-message' class='error-red-message'>The minimum widthxheight of the banner is "+size+" required.</span>");window.setTimeout(function(){jQuery('fieldset.fieldset-company_logo .job-manager-uploaded-file').empty()},900)}else{jQuery('#company_logo-error-message').remove();jQuery('#company_logo').removeClass('error-red-border')}};image.src=_URL.createObjectURL(file)}var fileExtension=['jpeg','jpg','jpe','png','gif','bmp'];if(jQuery.inArray(jQuery(this).val().split('.').pop().toLowerCase(),fileExtension)==-1){jQuery('#company_logo-error-message').remove();jQuery('#company_logo').addClass('error-red-border');jQuery('#company_logo').focus();jQuery("#company_logo").after("<span id='company_logo-error-message' class='error-red-message'>Only 'jpeg', 'jpg', 'jpe', 'png', 'gif', 'bmp' formats are allowed.</span>");window.setTimeout(function(){jQuery('fieldset.fieldset-company_logo .job-manager-uploaded-file').empty()},900)}else{jQuery('#company_logo-error-message').remove();jQuery('#company_logo').removeClass('error-red-border');window.setTimeout(function(){jQuery(".job-manager-remove-uploaded-file").text('');jQuery(".job-manager-remove-uploaded-file").addClass('glyphicon glyphicon-trash')},900)}event.preventDefault()},validatePostEventForm:function(event){Common.logInfo("EventSubmissionValidation.actions.validatePostEventForm...");jQuery('.error-red-message').remove();jQuery('#submit_event').removeClass('error-red-border');jQuery('#submit-event-form  input').removeClass('error-red-border');jQuery('#submit-event-form  .chosen-container').removeClass('error-red-border');var flag=true;if(jQuery('#account_email').length>0){if((!Common.validateEmail(jQuery('#account_email').val()))||jQuery('#account_email').val().length==0){jQuery('#account_email').addClass('error-red-border');jQuery('#account_email').focus();jQuery('#account_email').after('<span class="error-red-message">Please enter valid '+jQuery('#account_email').attr('placeholder')+'</span>');flag=false}}else{jQuery('#account_email').removeClass('error-red-border')}if(jQuery('#event_title').length>0){if(jQuery('#event_title').val().length>85){jQuery('#event_title').addClass('error-red-border');jQuery('#event_title').focus();jQuery('#event_title').after('<span class="error-red-message"> The maximum total length of a event title is 85 characters.</span>');flag=false}else if((jQuery('#event_title').val().length<=2)||(jQuery('#event_title').val().length==0)){jQuery('#event_title').addClass('error-red-border');jQuery('#event_title').focus();jQuery('#event_title').after('<span class="error-red-message"> The minimum total length of a event title is 4 characters.</span>');flag=false}else{jQuery('#event_title').removeClass('error-red-border')}}if(jQuery('#event_type').length>0){if(jQuery('#event_type').val().length==0){jQuery('#event_type').addClass('error-red-border');jQuery('#event_type').focus();jQuery('#event_type').after('<span class="error-red-message"> Please select at least one event Type.</span>');flag=false}else{jQuery('#event_type').removeClass('error-red-border')}}if(jQuery('#event_category_chosen').length>0){if(jQuery('#event_category_chosen').find('.chosen-choices').children(".search-choice").length==0){jQuery('#event_category_chosen').addClass('error-red-border');jQuery('#event_category_chosen').focus();jQuery('#event_category_chosen').after('<span class="error-red-message"> Please select at least one event category.</span>');flag=false}else if(jQuery('#event_category_chosen').find('.chosen-choices').children(".search-choice").length>3){jQuery('#event_category_chosen').addClass('error-red-border');jQuery('#event_category_chosen').focus();jQuery('#event_category_chosen').after('<span class="error-red-message"> The maximum selection of a event category is 3.</span>');flag=false}else{jQuery('#event_category_chosen').removeClass('error-red-border')}}if(jQuery('input[name=event_online]:checked').val()=='no'){if(jQuery('#event_address').length>0){if(jQuery('#event_address').val().length==0){jQuery('#event_address').addClass('error-red-border');jQuery('#event_address').focus();jQuery('#event_address').after('<span class="error-red-message"> Please enter your event address.</span>');flag=false}else{jQuery('#event_address').removeClass('error-red-border')}}if(jQuery('#event_pincode').length>0){if(jQuery('#event_pincode').val().length==0){jQuery('#event_pincode').addClass('error-red-border');jQuery('#event_pincode').focus();jQuery('#event_pincode').after('<span class="error-red-message"> Please enter your event location pincode (area code).</span>');flag=false}else if(!(Common.validatePincode(jQuery('#event_pincode').val()))){jQuery('#event_pincode').addClass('error-red-border');jQuery('#event_pincode').focus();jQuery('#event_pincode').after('<span class="error-red-message"> Please enter numeric number eg.123456 pincode.</span>');flag=false}else{jQuery('#event_pincode').removeClass('error-red-border')}}if(jQuery('#event_location').length>0){if(jQuery('#event_location').val().length>40){jQuery('#event_location').addClass('error-red-border');jQuery('#event_location').focus();jQuery('#event_location').after('<span class="error-red-message"> The maximum total length of a event location is 40 characters.</span>');flag=false}else if(jQuery('#event_location').val().length<=2||jQuery('#event_location').val().length==0){jQuery('#event_location').addClass('error-red-border');jQuery('#event_location').focus();jQuery('#event_location').after('<span class="error-red-message"> The minimum total length of a event location is 3 characters.</span>');flag=false}else{jQuery('#event_location').removeClass('error-red-border')}}}if(jQuery('#event_banner').length>0){if(jQuery("label[for='event_banner']").next().find('.event-manager-uploaded-files').children().length==0){jQuery('#event_banner').addClass('error-red-border');jQuery("label[for='event_banner']").next().find('.event-manager-uploaded-files').focus();jQuery("label[for='event_banner']").next().find('.event-manager-uploaded-files').after('<span class="error-red-message"> Please upload your banner with standard image .</span>');flag=false}}if(jQuery('#event_description').length>0){if(tinyMCE.get('event_description').getContent().length>4000){jQuery('#event_description').addClass('error-red-border');jQuery('#event_description').focus();jQuery('#event_description').after('<span class="error-red-message"> The maximum total length of a event description is 4000 characters.</span>');flag=false}else if(tinyMCE.get('event_description').getContent().length<300||tinyMCE.get('event_description').getContent().length==0){jQuery('#event_description').addClass('error-red-border');jQuery('#event_description').focus();jQuery('#event_description').after('<span class="error-red-message"> The minimum total length of a event description is 300 characters.</span>');flag=false}else{jQuery('#event_description').removeClass('error-red-border')}}else{jQuery('.fieldset-event_address').hide();jQuery('input[name=event_address]').removeAttr('required','required');jQuery('.fieldset-event_pincode').hide();jQuery('input[name=event_pincode]').removeAttr('required','required');jQuery('.fieldset-event_location').hide();jQuery('input[name=event_location]').removeAttr('required','required')}if(jQuery('#event_start_date').length>0){if(jQuery('#event_start_date').val().length==0){jQuery('#event_start_date').addClass('error-red-border');jQuery('#event_start_date').focus();jQuery('#event_start_date').after('<span class="error-red-message"> Please select at least one event Start Date.</span>');flag=false}else{jQuery('#event_start_date').removeClass('error-red-border')}}if(jQuery('#event_end_date').length>0){if(jQuery('#event_end_date').val().length==0){jQuery('#event_end_date').addClass('error-red-border');jQuery('#event_end_date').focus();jQuery('#event_end_date').after('<span class="error-red-message"> Please select at least one event End Date.</span>');flag=false}else{jQuery('#event_end_date').removeClass('error-red-border')}}if(jQuery('#event_ticket_price').length>0){if(jQuery('#event_ticket_price').val().length==0){jQuery('#event_ticket_price').addClass('error-red-border');jQuery('#event_ticket_price').focus();jQuery('#event_ticket_price').after('<span class="error-red-message"> Please enter event ticket price.</span>');flag=false}else{jQuery('#event_ticket_price').removeClass('error-red-border')}}if(jQuery('#event_link_to_eventpage').val().length>0){if(Common.isURL(jQuery('#event_link_to_eventpage').val())==false){jQuery('#event_link_to_eventpage').addClass('error-red-border');jQuery('#event_link_to_eventpage').focus();jQuery('#event_link_to_eventpage').after('<span class="error-red-message">Please enter valid '+jQuery('#event_link_to_eventpage').attr('placeholder')+'</span>');flag=false}}else{jQuery('#event_link_to_eventpage').removeClass('error-red-border')}if(jQuery('#organizer_name').val().length>40){jQuery('#organizer_name').addClass('error-red-border');jQuery('#organizer_name').focus();jQuery('#organizer_name').after('<span class="error-red-message"> The maximum total length of a organizer name is 40 characters.</span>');flag=false}else if(jQuery('#organizer_name').val().length<=3||jQuery('#organizer_name').val().length==0){jQuery('#organizer_name').addClass('error-red-border');jQuery('#organizer_name').focus();jQuery('#organizer_name').after('<span class="error-red-message"> The minimum total length of a organizer name is 4 characters.</span>');flag=false}else{jQuery('#organizer_name').removeClass('error-red-border')}if(jQuery('#organizer_description').length>0){if(tinyMCE.get('organizer_description').getContent().length>250){jQuery('#organizer_description').addClass('error-red-border');jQuery('#organizer_description').focus();jQuery('#organizer_description').after('<span class="error-red-message"> The maximum total length of a organizer description is 250 characters.</span>');flag=false}else if(tinyMCE.get('organizer_description').getContent().length<100||tinyMCE.get('organizer_description').getContent().length==0){jQuery('#organizer_description').addClass('error-red-border');jQuery('#organizer_description').focus();jQuery('#organizer_description').after('<span class="error-red-message"> The minimum total length of a organizer description is 100 characters.</span>');flag=false}else{jQuery('#organizer_description').removeClass('error-red-border')}}if(jQuery('#organizer_contact_person_name').val().length>80){jQuery('#organizer_contact_person_name').addClass('error-red-border');jQuery('#organizer_contact_person_name').focus();jQuery('#organizer_contact_person_name').after('<span class="error-red-message"> The maximum total length of a company contact person name is 80 characters.</span>');flag=false}else if(jQuery('#organizer_contact_person_name').val().length<=2||jQuery('#organizer_contact_person_name').val().length==0){jQuery('#organizer_contact_person_name').addClass('error-red-border');jQuery('#organizer_contact_person_name').focus();jQuery('#organizer_contact_person_name').after('<span class="error-red-message">Please '+jQuery('#organizer_contact_person_name').attr('placeholder')+'</span>');flag=false}else if((Common.validateEmail(jQuery('#organizer_contact_person_name').val()))==true){jQuery('#organizer_contact_person_name').addClass('error-red-border');jQuery('#organizer_contact_person_name').focus();jQuery('#organizer_contact_person_name').after('<span class="error-red-message">Email ID is not allowed in contact person name. </span>');flag=false}else if((Common.validateName(jQuery('#organizer_contact_person_name').val()))==false){jQuery('#organizer_contact_person_name').addClass('error-red-border');jQuery('#organizer_contact_person_name').focus();jQuery('#organizer_contact_person_name').after('<span class="error-red-message">Numbers are not allowed in contact person name. </span>');flag=false}else{jQuery('#organizer_contact_person_name').removeClass('error-red-border')}if(jQuery('#organizer_email').length>0){if((!Common.validateEmail(jQuery('#organizer_email').val()))||jQuery('#organizer_email').val().length==0){jQuery('#organizer_email').addClass('error-red-border');jQuery('#organizer_email').focus();jQuery('#organizer_email').after('<span class="error-red-message">Please '+jQuery('#organizer_email').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_email').removeClass('error-red-border')}if(jQuery('#organizer_website').val().length>0){if(Common.isURL(jQuery('#organizer_website').val())==false){jQuery('#organizer_website').addClass('error-red-border');jQuery('#organizer_website').focus();jQuery('#organizer_website').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_website').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_website').removeClass('error-red-border')}if(jQuery('#organizer_video').val().length>0){if(Common.isURL(jQuery('#organizer_video').val())==false){jQuery('#organizer_video').addClass('error-red-border');jQuery('#organizer_video').focus();jQuery('#organizer_video').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_video').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_video').removeClass('error-red-border')}if(jQuery('#organizer_youtube').val().length>0){if(Common.isURL(jQuery('#organizer_youtube').val())==false){jQuery('#organizer_youtube').addClass('error-red-border');jQuery('#organizer_youtube').focus();jQuery('#organizer_youtube').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_youtube').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_youtube').removeClass('error-red-border')}if(jQuery('#organizer_google_plus').val().length>0){if(Common.isURL(jQuery('#organizer_google_plus').val())==false){jQuery('#organizer_google_plus').addClass('error-red-border');jQuery('#organizer_google_plus').focus();jQuery('#organizer_google_plus').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_google_plus').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_google_plus').removeClass('error-red-border')}if(jQuery('#organizer_facebook').val().length>0){if(Common.isURL(jQuery('#organizer_facebook').val())==false){jQuery('#organizer_facebook').addClass('error-red-border');jQuery('#organizer_facebook').focus();jQuery('#organizer_facebook').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_facebook').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_facebook').removeClass('error-red-border')}if(jQuery('#organizer_linkedin').val().length>0){if(Common.isURL(jQuery('#organizer_linkedin').val())==false){jQuery('#organizer_linkedin').addClass('error-red-border');jQuery('#organizer_linkedin').focus();jQuery('#organizer_linkedin').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_linkedin').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_linkedin').removeClass('error-red-border')}if(jQuery('#organizer_twitter').val().length>0){if(Common.isURL(jQuery('#organizer_twitter').val())==false){jQuery('#organizer_twitter').addClass('error-red-border');jQuery('#organizer_twitter').focus();jQuery('#organizer_twitter').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_twitter').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_twitter').removeClass('error-red-border')}if(jQuery('#organizer_xing').val().length>0){if(Common.isURL(jQuery('#organizer_xing').val())==false){jQuery('#organizer_xing').addClass('error-red-border');jQuery('#organizer_xing').focus();jQuery('#organizer_xing').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_xing').attr('placeholder')+'</span>');return false}}else{jQuery('#organizer_xing').removeClass('error-red-border')}if(jQuery('#organizer_pinterest').val().length>0){if(Common.isURL(jQuery('#organizer_pinterest').val())==false){jQuery('#organizer_pinterest').addClass('error-red-border');jQuery('#organizer_pinterest').focus();jQuery('#organizer_pinterest').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_pinterest').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_pinterest').removeClass('error-red-border')}if(jQuery('#organizer_instagram').val().length>0){if(Common.isURL(jQuery('#organizer_instagram').val())==false){jQuery('#organizer_instagram').addClass('error-red-border');jQuery('#organizer_instagram').focus();jQuery('#organizer_instagram').after('<span class="error-red-message">Please enter valid '+jQuery('#organizer_instagram').attr('placeholder')+'</span>');flag=false}}else{jQuery('#organizer_instagram').removeClass('error-red-border')}return flag;event.preventDefault()}}}};EventSubmissionValidation=EventSubmissionValidation();jQuery(document).ready(function($){EventSubmissionValidation.init()});